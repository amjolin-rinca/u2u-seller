<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Farmer Portal</title>
<style>
    body { font-family: Arial, sans-serif; background: #f5f5f5;  }
    h1, h2 { text-align: center; color: green; }
    .container { max-width: 400px; margin: auto; background: white; padding: 20px; border-radius: 8px; }
    input, textarea, select, button {
        width: 100%; padding: 8px; margin: 5px 0; border-radius: 4px; border: 1px solid #ccc;
    }
    button { background: green; color: white; border: none; cursor: pointer; }
    button:hover { background: darkgreen; }
    footer{
         background-color: green;
            color: white;
            text-align: center;
            padding: 1rem;
        }
        header{
             background-color: green;
            color: white;
            text-align: center;
            padding: 1rem;

        }

</style>
</head>
<body>
    <header>
        <h1 style="color: white;">Uzhavar 2 Unavu</h1>
    </header>

<h1>Farmer Portal</h1>

<div class="container" id="authSection">
    <h2>Login / Register</h2>
    <input type="text" id="username" placeholder="Username" required>
    <input type="password" id="password" placeholder="Password" required>
    <button onclick="login()">Login</button>
    <button onclick="register()">Register</button>
</div>

<div class="container" id="productSection" style="display:none;">
    <h2>Add New Product</h2>
    <input type="text" id="pname" placeholder="Product Name" required>
    <textarea id="pdesc" placeholder="Product Description" required></textarea>
    <input type="number" id="pprice" placeholder="Price per kg" required>
    <input type="url" id="pimage" placeholder="Image URL" required>
    <select id="pcategory">
        <option value="fruit">Fruit</option>
        <option value="vegetable">Vegetable</option>
        <option value="rice">Rice</option>
        <option value="nuts">Dry Fruits & Nuts</option>
    </select>
    <button onclick="addProduct()">Add Product</button>
    <button onclick="logout()">Logout</button>
</div>

<footer>
        <p>&copy; 2025 Farm2Fridge</p>
    </footer>


<script>
function register(){
    let username = document.getElementById("username").value;
    let password = document.getElementById("password").value;
    if(username && password){
        localStorage.setItem("farmer_" + username, password);
        alert("Registered successfully! Please login.");
    } else {
        alert("Please fill all fields.");
    }
}

function login(){
    let username = document.getElementById("username").value;
    let password = document.getElementById("password").value;
    let storedPass = localStorage.getItem("farmer_" + username);
    if(storedPass && storedPass === password){
        alert("Login successful!");
        document.getElementById("authSection").style.display = "none";
        document.getElementById("productSection").style.display = "block";
        localStorage.setItem("loggedInFarmer", username);
    } else {
        alert("Invalid credentials!");
    }
}

function logout(){
    localStorage.removeItem("loggedInFarmer");
    document.getElementById("authSection").style.display = "block";
    document.getElementById("productSection").style.display = "none";
}

function addProduct(){
    let pname = document.getElementById("pname").value;
    let pdesc = document.getElementById("pdesc").value;
    let pprice = parseFloat(document.getElementById("pprice").value);
    let pimage = document.getElementById("pimage").value;
    let pcategory = document.getElementById("pcategory").value;

    if(pname && pdesc && pprice && pimage){
        let products = JSON.parse(localStorage.getItem("products")) || [];
        products.push({ name: pname, description: pdesc, price: pprice, image: pimage, category: pcategory });
        localStorage.setItem("products", JSON.stringify(products));
        alert("Product added successfully!");
    } else {
        alert("Please fill all fields.");
    }
}

// Auto login if session exists
if(localStorage.getItem("loggedInFarmer")){
    document.getElementById("authSection").style.display = "none";
    document.getElementById("productSection").style.display = "block";
}
</script>

</body>
</html>
